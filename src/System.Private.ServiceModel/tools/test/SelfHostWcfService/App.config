<configuration>
    <startup>
        <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.5" />
    </startup>
    <system.serviceModel>
        <bindings>
            <basicHttpBinding>
                <binding name="httpBinding"  openTimeout="03:30:00" closeTimeout="03:00:00" sendTimeout="01:00:00" receiveTimeout="02:00:00" />
            </basicHttpBinding>
            <basicHttpsBinding>
                <binding name="httpsBinding"  openTimeout="03:30:00" closeTimeout="03:00:00" sendTimeout="01:00:00" receiveTimeout="02:00:00" />
                <binding name="https+digest_username" openTimeout="03:30:00" closeTimeout="03:00:00" sendTimeout="01:00:00" receiveTimeout="02:00:00">
                    <security mode="Transport">
                        <transport clientCredentialType="Digest" />
                    </security>
                </binding>
                <binding name="https+basic_username" openTimeout="03:30:00" closeTimeout="03:00:00" sendTimeout="01:00:00" receiveTimeout="02:00:00">
                    <security mode="Transport">
                        <transport clientCredentialType="Basic" />
                    </security>
                </binding>
                <binding name="https+ntlm" openTimeout="03:30:00" closeTimeout="03:00:00" sendTimeout="01:00:00" receiveTimeout="02:00:00">
                    <security mode="Transport">
                        <transport clientCredentialType="Ntlm" />
                        <message clientCredentialType="UserName" />
                    </security>
                </binding>
                <binding name="https+windows" openTimeout="03:30:00" closeTimeout="03:00:00" sendTimeout="01:00:00" receiveTimeout="02:00:00">
                    <security mode="Transport">
                        <transport clientCredentialType="Windows" />
                    </security>
                </binding>
            </basicHttpsBinding>
            <customBinding>
                <binding name="defaultCustomHttp" openTimeout="03:30:00" closeTimeout="03:00:00" sendTimeout="01:00:00" receiveTimeout="02:00:00">
                    <textMessageEncoding />
                    <httpTransport />
                </binding>
                <binding name="http+soap11" openTimeout="03:30:00" closeTimeout="03:00:00" sendTimeout="01:00:00" receiveTimeout="02:00:00">
                    <textMessageEncoding messageVersion="Soap11" />
                    <httpTransport />
                </binding>
                <binding name="https+soap11" openTimeout="03:30:00" closeTimeout="03:00:00" sendTimeout="01:00:00" receiveTimeout="02:00:00">
                    <textMessageEncoding messageVersion="Soap11" />
                    <httpsTransport />
                </binding>
                <binding name="http+soap12" openTimeout="03:30:00" closeTimeout="03:00:00" sendTimeout="01:00:00" receiveTimeout="02:00:00">
                    <textMessageEncoding messageVersion="Soap12WSAddressing10" />
                    <httpTransport />
                </binding>
                <binding name="https+soap12" openTimeout="03:30:00" closeTimeout="03:00:00" sendTimeout="01:00:00" receiveTimeout="02:00:00">
                    <textMessageEncoding messageVersion="Soap12WSAddressing10" />
                    <httpsTransport />
                </binding>
                <binding name="http+binary" openTimeout="03:30:00" closeTimeout="03:00:00" sendTimeout="01:00:00" receiveTimeout="02:00:00">
                    <binaryMessageEncoding />
                    <httpTransport />
                </binding>
                <binding name="tcp+text" openTimeout="03:30:00" closeTimeout="03:00:00" sendTimeout="01:00:00" receiveTimeout="02:00:00">
                    <textMessageEncoding />
                    <tcpTransport portSharingEnabled="false"/>
                </binding>
            </customBinding>
            <netTcpBinding>
                <binding name="nettcpBinding" portSharingEnabled="false" openTimeout="03:30:00" closeTimeout="03:00:00" sendTimeout="01:00:00" receiveTimeout="02:00:00" />
                <binding name="nettcpBinding+certificate" portSharingEnabled="false" openTimeout="03:30:00" closeTimeout="03:00:00" sendTimeout="01:00:00" receiveTimeout="02:00:00">
                    <security mode="Transport">
                        <transport clientCredentialType="Certificate">
                        </transport>
                    </security>
                </binding>
                <binding name="nettcpBinding+nosecurity" portSharingEnabled="false" openTimeout="03:30:00" closeTimeout="03:00:00" sendTimeout="01:00:00" receiveTimeout="02:00:00">
                    <security mode="None" />
                </binding>
                <binding name="nettcpBindingCallback" portSharingEnabled="false" openTimeout="03:30:00" closeTimeout="03:00:00" sendTimeout="01:00:00" receiveTimeout="02:00:00">
                    <security mode="None" />
                </binding>
            </netTcpBinding>
            <netHttpBinding>
                <binding name="nethttpBinding"  openTimeout="03:30:00" closeTimeout="03:00:00" sendTimeout="01:00:00" receiveTimeout="02:00:00" />
            </netHttpBinding>
        </bindings>
        <services>
            <service behaviorConfiguration="BasicAuth" name="WcfService.WcfUserNameService">
                <endpoint address="https-basic" binding="basicHttpsBinding" bindingConfiguration="https+basic_username"
                    name="https-basic" contract="WcfService.IWcfCustomUserNameService" />
                <host>
                    <baseAddresses>
                        <add baseAddress="https://*:44285/WindowsCommunicationFoundation/CustomerUserName" />
                    </baseAddresses>
                </host>
            </service>
            <service name="WcfService.WcfService">
                <endpoint address="" binding="customBinding" bindingConfiguration="defaultCustomHttp"
                    name="default" contract="WcfService.IWcfService" />
                <endpoint address="Basic" binding="basicHttpBinding" bindingConfiguration="httpBinding"
                    name="defaultBasic" contract="WcfService.IWcfService" />
                <endpoint address="basicHttp" binding="basicHttpBinding" bindingConfiguration="httpBinding"
                    name="basicHttpEndpoint" contract="WcfService.IWcfService" />
                <endpoint address="basicHttps" binding="basicHttpsBinding" bindingConfiguration="httpsBinding"
                    name="basicHttpsEndpoint" contract="WcfService.IWcfService" />
                <endpoint address="http-soap11" binding="customBinding" bindingConfiguration="http+soap11"
                    name="http-soap11Endpoint" contract="WcfService.IWcfService" />
                <endpoint address="http-soap12" binding="customBinding" bindingConfiguration="http+soap12"
                    name="http-soap12Endpoint" contract="WcfService.IWcfService" />
                <endpoint address="http-binary" binding="customBinding" bindingConfiguration="http+binary"
                    name="http-binaryEndpoint" contract="WcfService.IWcfService" />
                <endpoint address="https-soap11" binding="customBinding" bindingConfiguration="https+soap11"
                    name="https-soap11Endpoint" contract="WcfService.IWcfService" />
                <endpoint address="https-soap12" binding="customBinding" bindingConfiguration="https+soap12"
                    name="https-soap12Endpoint" contract="WcfService.IWcfService" />
                <endpoint address="netHttp" binding="netHttpBinding" bindingConfiguration="nethttpBinding"
                    name="nethttpEndpoint" contract="WcfService.IWcfService" />
                <endpoint address="https-basic" binding="basicHttpsBinding" bindingConfiguration="https+basic_username"
                    name="https-basic" contract="WcfService.IWcfService" />
                <endpoint address="https-digest" behaviorConfiguration="" binding="basicHttpsBinding"
                    bindingConfiguration="https+digest_username" name="https-digest"
                    contract="WcfService.IWcfService" />
                <endpoint address="tcp-default" binding="netTcpBinding" bindingConfiguration="nettcpBinding"
                    name="nettcp-defaultBinding" contract="WcfService.IWcfService" />
                <endpoint address="tcp-nosecurity" binding="netTcpBinding" bindingConfiguration="nettcpBinding+nosecurity"
                    name="nettcp-defaultBinding" contract="WcfService.IWcfService" />
                <endpoint address="tcp-custombinding-nosecurity-text" binding="customBinding"
                    bindingConfiguration="tcp+text" name="nettcp-customBinding"
                    contract="WcfService.IWcfService" />
                <host>
                    <baseAddresses>
                        <add baseAddress="net.tcp://*:809/WindowsCommunicationFoundation" />
                        <add baseAddress="http://*:8081/WindowsCommunicationFoundation" />
                        <add baseAddress="https://*:44285/WindowsCommunicationFoundation" />
                    </baseAddresses>
                </host>
            </service>
            <service name="WcfService.WcfDuplexService">
                <endpoint address="tcp-nosecurity-callback" binding="netTcpBinding"
                    bindingConfiguration="nettcpBindingCallback" name="nettcp-defaultBinding"
                    contract="WcfService.IWcfDuplexService" />
                <host>
                    <baseAddresses>
                        <add baseAddress="net.tcp://*:810/WindowsCommunicationFoundation" />
                    </baseAddresses>
                </host>
            </service>
            <service name="WcfService.DuplexCallbackService">
                <endpoint address="tcp-nosecurity-typedproxy-duplexcallback"
                    binding="netTcpBinding" bindingConfiguration="nettcpBindingCallback"
                    name="nettcp-defaultBinding" contract="WcfService.IDuplexChannelService" />
                <host>
                    <baseAddresses>
                        <add baseAddress="net.tcp://*:811/WindowsCommunicationFoundation" />
                    </baseAddresses>
                </host>
            </service>
            <service name="WcfService.DuplexChannelCallbackReturnService">
                <endpoint address="tcp-nosecurity-taskreturn" binding="netTcpBinding"
                    bindingConfiguration="nettcpBindingCallback" name="nettcp-defaultBinding"
                    contract="WcfService.IWcfDuplexTaskReturnService" />
                <host>
                    <baseAddresses>
                        <add baseAddress="net.tcp://*:812/WindowsCommunicationFoundation" />
                    </baseAddresses>
                </host>
            </service>
        </services>
        <behaviors>
            <endpointBehaviors>
                <behavior name ="clientCertificateBehavior">
                    <clientCredentials>
                        <clientCertificate findValue="1d85a3f6cd2c022c5ca54e5cb200a47f89ba0d3d" storeLocation="LocalMachine" storeName="My" x509FindType="FindBySubjectName" />
                    </clientCredentials>
                </behavior>
            </endpointBehaviors>
            <serviceBehaviors>
                <behavior>
                    <!-- To avoid disclosing metadata information, set the values below to false before deployment -->
                    <!--<serviceMetadata httpGetEnabled="true" httpsGetEnabled="true" />-->
                    <!-- To receive exception details in faults for debugging purposes, set the value below to true.  Set to false before deployment to avoid disclosing exception information -->
                    <serviceDebug includeExceptionDetailInFaults="true" />
                </behavior>
                <behavior name="BasicAuth">
                  <serviceDebug includeExceptionDetailInFaults="true" />
                  <serviceCredentials>
                    <userNameAuthentication userNamePasswordValidationMode="Custom" customUserNamePasswordValidatorType="WcfService.CustomUserNameValidator, WcfService"/>
                  </serviceCredentials>
                </behavior>
            </serviceBehaviors>
        </behaviors>
        <protocolMapping>
            <add binding="basicHttpBinding" scheme="http" />
        </protocolMapping>
    </system.serviceModel>
    <system.diagnostics>
        <sources>
            <source name="System.ServiceModel"
              switchValue="Information, ActivityTracing"
              propagateActivity="true">
                <listeners>
                    <add name="traceListener"
                      type="System.Diagnostics.XmlWriterTraceListener"
                      initializeData="ServerTraces.svclog" />
                </listeners>
            </source>
        </sources>
    </system.diagnostics>
</configuration>